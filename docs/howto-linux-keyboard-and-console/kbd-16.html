<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<title>The Linux keyboard and console HOWTO: Changing the video mode</title>
	</head>
	<body class="container">
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-15.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-17.html">Next</a></li>
			</ul>
		</nav>

		<div class="page-header">
			<h2><a name="s16">Changing the video mode</a></h2>
		</div>

		<p>As far as I know there are 6 ways to change resolution:</p>

		<p>1. At compile time: change the line
		<pre>
        SVGA_MODE=      -DSVGA_MODE=NORMAL_VGA
</pre>

		in <code>/usr/src/linux/Makefile</code>.</p>

		<p>1A. After compilation: use <code>rdev -v</code> - a terrible hack, but it exists.</p>

		<p>2. At boot time: put <code>vga=ask</code> in the lilo config file, and lilo will
		ask you what video mode you want. Once you know, put <code>vga=</code>mypreference.</p>

		<p>3. At run time:
		A. Use the <code>resizecons</code> command. (This is a very primitive wrapper around
		the VT_RESIZE ioctl.)
		B. Use the <code>SVGATextMode</code> command. (This is a less primitive wrapper around
		the VT_RESIZE ioctl.)</p>

		<p>4. Not "on the console":
		Under <code>dosemu</code>, or with svgalib etc. you can change the hardware video mode
		without the console driver being aware of it. Sometimes this is useful in
		getting <code>resizecons</code> or <code>SVGATextMode</code> set up: use <code>dosemu</code> and some
		DOS program to get into the desired videomode, dump (say from another VT) the
		contents of all video hardware registers, and use that in the initialization
		that <code>resizecons</code> and <code>SVGATextMode</code> require.
		In some cases where the video mode has gotten into some unusable state,
		starting <code>dosemu</code>, relying on the BIOS to set up the video mode, and then
		killing <code>dosemu</code> (with <code>kill -9</code>), is the easiest way to get into shape
		again.</p>

		<div class="page-header">
			<h3><a name="ss16.1">Instructions for the use of resizecons</a></h3>
		</div>

		<p>Get svgalib and compile the program <code>restoretextmode</code>.
		Boot up your machine in all possible video modes
		(using <code>vga=ask</code> in the lilo config file), and write
		the video hardware register contents to files CxR
		(C=cols, R=rows), e.g., 80x25, 132x44, etc.
		Put these files in <code>/usr/lib/kbd/videomodes</code>.
		Now <code>resizecons 132x44</code> will change videomode for you
		(and send SIGWINCH to all processes that need to know
		about this, and load another font if necessary).</p>

		<p>At present, <code>resizecons</code> only succeeds when there is memory enough
		for both the old and the new consoles at the same time.</p>

		<hr/>
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-15.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-17.html">Next</a></li>
			</ul>
		</nav>
	</body>
</html>
