<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<title>The Linux keyboard and console HOWTO: Keyboard generalities</title>
	</head>
	<body class="container">
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-1.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-3.html">Next</a></li>
			</ul>
		</nav>

		<div class="page-header">
			<h2><a name="s2">Keyboard generalities</a></h2>
		</div>

		<p>You press a key, and the keyboard controller sends
		<a href="../scancodes/scancodes.html">scancodes</a>
		to the kernel keyboard driver. Some keyboards can be programmed,
		but usually the scancodes corresponding to your keys are fixed.
		The kernel keyboard driver just transmits whatever it receives
		to the application program when it is in <em>scancode mode</em>,
		like when <code>X</code> is running. Otherwise, it parses the stream of scancodes
		into keycodes, corresponding to key press or key release events.
		(A single key press can generate up to 6 scancodes.)
		These keycodes are transmitted to the application program when it is
		in <em>keycode mode</em> (as used, for example, by <code>showkey</code>
		and some X servers).
		Otherwise, these keycodes are looked up in the keymap, and the character
		or string found there is transmitted to the application, or the action
		described there is performed.
		(For example, if one presses and releases the <code>a</code> key, then the keyboard
		produces scancodes 0x1e and 0x9e, this is converted to keycodes 30 and 158,
		and then transmitted as 0141, the ASCII or latin-1 code for `a';
		if one presses and releases <code>Delete</code>, then the keyboard produces scancodes
		0xe0 0x53 0xe0 0xd3, these are converted to keycodes 111 and 239, and then
		transmitted as the 4-symbol sequence ESC [ 3 ~, all assuming
		a US keyboard and a default keymap. An example of a key combination to which
		an action is assigned is Ctrl-Alt-Del.)</p>

		<p>The translation between unusual scancodes and keycodes can be set using the
		utility <code>setkeycodes</code> - only few people will need it.
		The translation between keycodes and characters or strings or actions, that is,
		the keymap, is set using the utilities <code>loadkeys</code> and <code>setmetamode</code>.
		For details, see getkeycodes(8), setkeycodes(8), dumpkeys(1), loadkeys(1),
		setmetamode(1). The format of the files output by <code>dumpkeys</code> and read
		by <code>loadkeys</code> is described in keymaps(5).</p>

		<p>Where it says `transmitted to the application' in the above description,
		this really means `transmitted to the terminal driver'. That is, further
		processing is just like that of text that comes in over a serial line.
		The details of this processing are set by the program <code>stty</code>.</p>

		<hr/>
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-1.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-3.html">Next</a></li>
			</ul>
		</nav>
	</body>
</html>
